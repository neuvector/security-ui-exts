(("undefined"!==typeof self?self:this)["webpackChunksbombastic_image_vulnerability_scanner_0_1_0"]=("undefined"!==typeof self?self:this)["webpackChunksbombastic_image_vulnerability_scanner_0_1_0"]||[]).push([[739],{5356:function(e,a,t){"use strict";t.r(a);var r=t(36758),l=t.n(r),n=t(40935),o=t.n(n),s=o()(l());s.push([e.id,".mt-16[data-v-2d73774d]{margin-top:16px}",""]),a["default"]=s},10213:function(e,a,t){var r=t(67621);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var l=t(74825).A;l("d5ce99fa",r,!0,{sourceMap:!1,shadowMode:!1})},37953:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return L}});var r=t(9274);const l={class:"filled-height"},n={class:"registry-input-label"},o={class:"row"},s={class:"col span-6"},i={class:"col span-6"},c={class:"registry-input-label mt-24"},u={class:"row"},d={class:"col span-6"},p={class:"registry-input-label mt-24"},v={class:"row"},m={class:"col span-6"},h={class:"col span-3"};function g(e,a,t,g,b,S){const f=(0,r.resolveComponent)("NameNsDescription"),E=(0,r.resolveComponent)("LabeledSelect"),N=(0,r.resolveComponent)("LabeledInput"),R=(0,r.resolveComponent)("CruResource");return(0,r.openBlock)(),(0,r.createElementBlock)("div",l,[(0,r.createVNode)(R,{"done-route":S.doneRoute,mode:e.mode,resource:e.value,description:e.t("imageScanner.registries.configuration.cru.description"),subtypes:[],"validation-passed":!0,errors:b.errors,"cancel-event":!0,onError:a[5]||(a[5]=e=>b.errors=e),onFinish:S.apply,onCancel:e.done},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(f,{nameLabel:"imageScanner.registries.configuration.cru.registry.label",value:e.value,mode:e.mode,"onUpdate:value":a[0]||(a[0]=a=>e.$emit("input",a))},null,8,["value","mode"]),(0,r.createElementVNode)("div",n,(0,r.toDisplayString)(e.t("imageScanner.registries.configuration.cru.registry.label")),1),(0,r.createElementVNode)("div",o,[(0,r.createElementVNode)("div",s,[(0,r.createVNode)(E,{"data-testid":"registry-type-select",label:e.t("imageScanner.registries.configuration.cru.registry.type.label"),options:S.REGISTRY_TYPE_OPTIONS,"option-key":"value","option-label":"label",value:"dockerhub",required:""},null,8,["label","options"])]),(0,r.createElementVNode)("div",i,[(0,r.createVNode)(N,{label:e.t("imageScanner.registries.configuration.cru.registry.uri.label"),value:e.value.spec.uri,"onUpdate:value":a[1]||(a[1]=a=>e.value.spec.uri=a),placeholder:e.t("imageScanner.registries.configuration.cru.registry.uri.placeholder"),required:""},null,8,["label","value","placeholder"])])]),(0,r.createElementVNode)("div",c,(0,r.toDisplayString)(e.t("imageScanner.registries.configuration.cru.authentication.label")),1),(0,r.createElementVNode)("div",u,[(0,r.createElementVNode)("div",d,[(0,r.createVNode)(E,{value:e.value.spec.authSecret,"onUpdate:value":a[2]||(a[2]=a=>e.value.spec.authSecret=a),"data-testid":"auth-secret-select",mode:e.mode,options:S.options},null,8,["value","mode","options"])])]),(0,r.createElementVNode)("div",p,(0,r.toDisplayString)(e.t("imageScanner.registries.configuration.cru.scan.label")),1),(0,r.createElementVNode)("div",v,[(0,r.createElementVNode)("div",m,[(0,r.createVNode)(E,{"data-testid":"registry-scanning-repository-names",value:e.value.spec.repositories,"onUpdate:value":[a[3]||(a[3]=a=>e.value.spec.repositories=a),S.update],taggable:!0,searchable:!0,"push-tags":!0,"close-on-select":!1,mode:e.mode,multiple:!0,label:e.t("imageScanner.registries.configuration.cru.scan.repoName"),placeholder:e.t("imageScanner.registries.configuration.cru.scan.placeholder"),options:e.value.spec.repositories||[],disabled:"view"===e.mode},null,8,["value","mode","label","placeholder","options","disabled","onUpdate:value"])]),(0,r.createElementVNode)("div",h,[(0,r.createVNode)(E,{value:e.value.spec.scanInterval,"onUpdate:value":a[4]||(a[4]=a=>e.value.spec.scanInterval=a),"data-testid":"registry-scanning-interval-select",options:S.SCAN_INTERVAL_OPTIONS,"option-key":"value","option-label":"label",label:e.t("imageScanner.registries.configuration.cru.scan.schedule.label"),required:""},null,8,["value","options","label"])])])])),_:1},8,["done-route","mode","resource","description","errors","onFinish","onCancel"])])}var b=t(91825),S=t(77262),f=t(22128),E=t(40527),N=t(14384),R=t(67198),_=t(40089),y=t(35664);const C={ONE_HOUR:"1h",THREE_HOURS:"3h",SIX_HOURS:"6h",TWELVE_HOURS:"12h",TWENTY_FOUR_HOURS:"24h",MANUAL:"0s"},O=[{label:"Every 1 hour",value:C.ONE_HOUR},{label:"Every 3 hours",value:C.THREE_HOURS},{label:"Every 6 hours",value:C.SIX_HOURS},{label:"Every 12 hours",value:C.TWELVE_HOURS},{label:"Every 24 hours",value:C.TWENTY_FOUR_HOURS},{label:"Manual Scan",value:C.MANUAL}],A={DOCKERHUB:"dockerhub"},V=[{label:"Docker Hub",value:A.DOCKERHUB}];var U=t(64470),I=t(17259),T=t(4364),x={name:"CruRegistry",components:{Footer:S.A,LabeledInput:f.o,NameNsDescription:E.A,CruResource:N.A,SelectOrCreateAuthSecret:R.A,LabeledSelect:_.A},mixins:[b.A],async fetch(){this.allSecrets=await this.$store.dispatch(`${this.inStore}/findAll`,{type:y.bB})},data(){return this.value.spec||(this.value.spec={authSecret:"",uri:"",repositories:[]}),{inStore:this.$store.getters["currentProduct"].inStore,errors:null,allSecrets:null,filteredSecrets:null,PAGE:U.KL,PRODUCT_NAME:U.KR}},computed:{inStore(){return this.$store.getters["currentProduct"]?.inStore||y.Mc},options(){let e=[];if(this.allSecrets){const a=this.value.metadata?.namespace?this.value.metadata.namespace:"default";this.allSecrets&&(e=this.allSecrets.filter((e=>e.metadata.namespace===a)).filter((e=>I.J.DOCKER_JSON===e._type)))}let a=e.map((e=>{const{metadata:a,id:t}=e,r=a.name;return{label:r,value:t.includes("/")?t.split("/")[1]:t}}));return a.unshift({label:this.t("generic.none"),value:""}),a},SCAN_INTERVAL_OPTIONS:function(){return O},REGISTRY_TYPE_OPTIONS:function(){return V},doneLocationOverride(){return`/c/${this.$route.params.cluster}/${this.PRODUCT_NAME}/${this.PAGE.REGISTRIES}`}},methods:{apply(e){T.log("finish apply"),this.save(e).then((()=>{this.$emit("done")})).catch((e=>{this.errors=e})).finally((()=>{this.$router.push({name:`c-cluster-${U.KR}-${U.KL.REGISTRIES}`,params:{cluster:this.$route.params.cluster,product:U.KR}})}))},update(){},doneRoute(){return T.log("doneRoute"),`c-cluster-${U.KR}-${U.KL.REGISTRIES}`}},created(){const e=this.value.spec;e.scanInterval??=C.THREE_HOURS}},k=(t(10213),t(47433));const M=(0,k.A)(x,[["render",g],["__scopeId","data-v-c1cdfeca"]]);var L=M},47308:function(e,a,t){var r=t(5356);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var l=t(74825).A;l("2845fcef",r,!0,{sourceMap:!1,shadowMode:!1})},59284:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return f}});var r=t(9274);const l={class:"filled-height"},n={class:"row"},o={class:"col span-9"},s={class:"row mt-16"};function i(e,a,t,i,c,u){const d=(0,r.resolveComponent)("NameNsDescription"),p=(0,r.resolveComponent)("LabeledInput"),v=(0,r.resolveComponent)("Checkbox"),m=(0,r.resolveComponent)("CruResource");return(0,r.openBlock)(),(0,r.createElementBlock)("div",l,[(0,r.createVNode)(m,{"done-route":e.doneRoute,mode:e.mode,resource:e.value,description:e.t("imageScanner.vexManagement.cru.description"),subtypes:[],"validation-passed":!0,errors:c.errors,"cancel-event":!0,onError:a[3]||(a[3]=e=>c.errors=e),onFinish:e.save,onCancel:e.done},{default:(0,r.withCtx)((()=>[(0,r.createVNode)(d,{value:e.value,mode:e.mode,namespaced:!1,descriptionPlaceholder:"imageScanner.vexManagement.cru.desc.placeholder","onUpdate:value":a[0]||(a[0]=a=>e.$emit("input",a))},null,8,["value","mode"]),(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",o,[(0,r.createVNode)(p,{value:e.value.spec.url,"onUpdate:value":a[1]||(a[1]=a=>e.value.spec.url=a),mode:e.mode,label:e.t("imageScanner.vexManagement.cru.uri.label"),placeholderKey:"imageScanner.vexManagement.cru.uri.placeholder",required:!0},null,8,["value","mode","label"])])]),(0,r.createElementVNode)("div",s,[(0,r.createVNode)(v,{value:e.value.spec.enabled,"onUpdate:value":a[2]||(a[2]=a=>e.value.spec.enabled=a),tooltip:e.t("imageScanner.vexManagement.cru.enable.tooltip"),"data-testid":"imageScanner-vexManagement-cru-enable-checkbox",class:"check",type:"checkbox","label-key":"imageScanner.vexManagement.cru.enable.label",mode:e.mode},null,8,["value","tooltip","mode"])])])),_:1},8,["done-route","mode","resource","description","errors","onFinish","onCancel"])])}var c=t(40527),u=t(14384),d=t(53701),p=t(42200),v=t(22128),m=t(91825),h=t(15446),g={name:"CruVexHub",components:{LabeledInput:v.o,NameNsDescription:c.A,CruResource:u.A,Banner:d.A,Checkbox:p.S},mixins:[m.A],data(){return this.value.spec||(this.value.spec={url:"",enabled:!0}),{errors:null,PAGE:h.KL,PRODUCT_NAME:h.KR}}},b=(t(47308),t(47433));const S=(0,b.A)(g,[["render",i],["__scopeId","data-v-2d73774d"]]);var f=S},67621:function(e,a,t){"use strict";t.r(a);var r=t(36758),l=t.n(r),n=t(40935),o=t.n(n),s=o()(l());s.push([e.id,".registry-input-label[data-v-c1cdfeca]{margin-bottom:16px;font-size:16px;line-height:20px;font-weight:400;font-family:Lato,sans-serif;color:#141419;display:block}.mt-24[data-v-c1cdfeca]{margin-top:24px}",""]),a["default"]=s}}]);
//# sourceMappingURL=sbombastic-image-vulnerability-scanner-0.1.0.umd.min.edit.js.map